<?xml version="1.0" encoding="utf-8"?>
<template id="template">

    <div t-name="QuickShopTemplate">
        <div class="row align-items-start flex-nowrap">
            <div class="offset-md-3 col-6">
                <div role="search" class="input-group w-100">
                    <input type="search" class="form-control border-0 text-bg-light"
                           placeholder="Search..." t-att-value="widget.term"/>
                    <button type="submit" aria-label="Search" title="Search" class="btn btn btn-light">
                        <i class="oi oi-search"></i>
                        <span class="oe_search_found">
                            <small>
                                (<t t-esc="widget.data.total_products"/>found)
                            </small>
                        </span>
                    </button>
                </div>
            </div>
        </div>
        <div class="row align-items-start flex-nowrap">
            <div class="col-2"/>
            <div class="col-8">
                <div>
                    <table class="table table-borderless h-100 m-0 o_wsale_context_thumb_cover">
                        <colgroup>
                            <col width="15%"/>
                            <col width="85%"/>
                        </colgroup>
                        <tr t-foreach="widget.data.products" t-as="product" class="oe_product_cart">
                            <td class="oe_product_cart h-100 d-flex ps-0">
                                <div class="oe_product_image position-relative h-100 overflow-hidden">
                                    <a class="oe_product_image_link d-block h-100 position-relative"
                                       contenteditable="false" t-att-href="product.website_url">
                                        <span class="oe_product_image_img_wrapper d-flex h-100 justify-content-center align-items-center position-absolute">
                                            <img t-attf-src="/web/image/product.product/{{product.id}}/image_512/"
                                                 itemprop="image" class="img img-fluid position-absolute"
                                                 t-att-alt="product.name" loading="lazy" style="height:100px;"/>
                                        </span>
                                    </a>
                                </div>
                            </td>
                            <td>
                                <div class="o_wsale_product_information position-relative">
                                    <h6 class="o_wsale_products_item_title mb-2">
                                        <a t-att-href="product.website_url"
                                           class="text-primary text-decoration-none cursor-pointer fw-bolder">
                                            <t t-esc="product.name"/>
                                        </a>
                                    </h6>
                                    <div t-if="product.x_studio_alternate_number">
                                        <a class="text-primary text-decoration-none">
                                            <t t-esc="product.x_studio_alternate_number"/>
                                        </a>
                                    </div>
                                    <div t-if="product.qty_available &gt; 0">
                                        <span class="fw-bold">
                                            <t t-esc="product.qty_available"/>
                                        </span>
                                        <span class="fw-bold" t-if="product.uom_id and product.uom_id.length &gt; 0">
                                            <t t-esc="product.uom_id[1]"/>
                                        </span>
                                        <span class="fw-bold">
                                            left in stock.
                                        </span>
                                    </div>
                                    <div class="oe_subdescription mb-2 text-muted small"
                                         contenteditable="false" t-if="product.description_sale">
                                        <div>
                                            <t t-esc="product.description_sale"/>
                                        </div>
                                    </div>
                                    <div id="o_wsale_cta_wrapper" class="d-block text-end" t-if="product.price &gt; 0">
                                        <div contenteditable="false" style="padding: 0.2rem 1rem;height: 45px;"
                                             class="css_quantity input-group d-inline-flex me-2 mb-2 align-middle">
                                            <a class="btn btn-link js_decrease_qty" aria-label="Remove one"
                                               title="Remove one" href="#" style="padding: 0.3rem 1rem;">
                                                <i class="fa fa-minus"></i>
                                            </a>
                                            <input type="text" class="form-control text-center p-0" data-min="1"
                                                   name="product_qty" value="1" title=""/>
                                            <a class="btn btn-link float_left js_increase_qty" aria-label="Add one"
                                               title="Add one" href="#" style="padding: 0.3rem 1rem;">
                                                <i class="fa fa-plus"></i>
                                            </a>
                                        </div>
                                        <div id="add_to_cart_wrap"
                                             class="d-inline-flex align-items-center mb-2 me-auto">
                                            <a role="button" href="#" t-att-data-product-id="product.id"
                                               class="btn btn-primary add_to_cart flex-grow-1">
                                                <i class="fa fa-shopping-cart me-2"></i>
                                                <span style="font-weight: bold">ADD TO CART</span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="products_pager d-flex justify-content-center pt-5 pb-3">
                                    <ul class="pagination m-0">
                                        <li t-attf-class="page-item previous #{widget.offset == 0 ? 'disabled' : ''}">
                                            <button class="page-link pagination-prev-btn">Prev</button>
                                        </li>
                                        <li class="paginate_button page-item">
                                            <a href="#" class="active page-link">
                                                <t t-esc="widget.data.current_offset"/>
                                                -
                                                <t t-esc="widget.data.next_offset > widget.data.total_products ? widget.data.total_products : widget.data.next_offset"/>
                                                /
                                                <t t-esc="widget.data.total_products"/>
                                                Products
                                            </a>
                                        </li>
                                        <li t-attf-class="page-item previous #{widget.data.total_products == (widget.data.next_offset > widget.data.total_products ? widget.data.total_products : widget.data.next_offset) ? 'disabled' : ''}">
                                            <button class="page-link pagination-next-btn">Next</button>
                                        </li>
                                    </ul>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="col-2"/>
        </div>
    </div>

</template>